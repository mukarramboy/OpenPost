{% extends "base.html" %}
{% load socialaccount %}
{% load static %}

{% block title %}Вход | MyBlog{% endblock %}

{% block content %}
<div class="flex justify-center items-center min-h-[70vh]">
    <div class="bg-white shadow-xl rounded-2xl p-8 w-full max-w-md">
        <!-- Заголовок -->
        <h2 class="text-2xl font-bold text-center text-gray-800 mb-6">Вход в аккаунт</h2>

        <!-- Форма входа -->
        <form method="post" class="space-y-5">
            {% csrf_token %}
            {{ form.non_field_errors }}

            <!-- Поле логина -->
            <div>
                <label for="{{ form.login.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">
                    Имя пользователя или Email
                </label>
                <input type="text" name="{{ form.login.name }}" id="{{ form.login.id_for_label }}"
                       value="{{ form.login.value|default:'' }}"
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none">
                {{ form.login.errors }}
            </div>

            <!-- Поле пароля -->
            <div>
                <label for="{{ form.password.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">
                    Пароль
                </label>
                <input type="password" name="{{ form.password.name }}" id="{{ form.password.id_for_label }}"
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none">
                {{ form.password.errors }}
            </div>

            <!-- Запомнить меня -->
            <div class="flex items-center">
                {{ form.remember }}
                <label for="{{ form.remember.id_for_label }}" class="ml-2 text-sm text-gray-600">
                    Запомнить меня
                </label>
            </div>

            <!-- Кнопка входа -->
            <button type="submit"
                class="w-full bg-blue-600 text-white py-2.5 rounded-lg hover:bg-blue-700 transition font-medium shadow-md">
                Войти
            </button>
        </form>

        <!-- Разделитель -->
        <div class="flex items-center my-6">
            <div class="flex-1 h-px bg-gray-300"></div>
            <span class="px-3 text-gray-500 text-sm">или</span>
            <div class="flex-1 h-px bg-gray-300"></div>
        </div>

        <!-- Вход через Google -->
        <a href="{% provider_login_url 'google' %}"
           class="flex items-center justify-center gap-3 border border-gray-300 py-2.5 rounded-lg hover:bg-gray-100 transition w-full shadow-sm">
            <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" 
                 alt="Google" class="w-5 h-5">
            <span class="text-gray-700 font-medium">Войти через Google</span>
        </a>

        <!-- Ссылка на регистрацию -->
        <p class="mt-6 text-center text-sm text-gray-600">
            Нет аккаунта?
            <a href="{% url 'account_signup' %}" class="text-blue-600 hover:text-blue-700 font-medium">Зарегистрируйтесь</a>
        </p>
    </div>
</div>
{% endblock %}
